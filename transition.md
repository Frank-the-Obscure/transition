# 公交线路客流预测

outline

- 赛题
- 起始思路
- 数据统计与处理


## 赛题

>本次大赛要求选手根据广州市内及广佛同城公交线路的历史公交刷卡数据，挖掘固定人群在公共交通中的行为模式。建立公交线路乘车人次预测模型，并用模型预测未来一周（20150101-20150107）每日06时至21时每小时段各个线路的乘车人次。Part2将更换一批新数据。

>大赛开放20140801至20141231五个月广东部分公交线路岭南通用户刷卡数据，共涉及近200万用户2条线路约800多万条数据记录。同时大赛提供20140801至20150131期间广州市的天气状况信息。

预测线路乘车人次

## 起始思路

先对已有数据进行统计和可视化, 分析数据规律.

## 数据统计与处理

使用 Pandas 进行数据处理. `first-test.ipynb`

1. 数据没有标签行, 在已有 data 前面加上标签行.

train data:
8926604 rows × 7 columns

用前1000行写测试文件

2. 初步测试 Pandas groupby

ok

dataframe.groupby('column_name').count() 可以很方便地进行统计

时间戳: 需要格式化

可以整理为文件存储, 或者转化成标准格式, 每次读取统计;

考虑使用次数, 如果需要反复调用并且数据量较大, 则应该预先处理(类似于准备一个完整的 feature 文件);

3. troubles

groupby等处理之后, 标签变成了第二行, 无法作为后续的行列标题.

尝试用时间序列调整每天的数据, 但是目前的数据 DataFrame 不是 Series, 似乎不可用.

4. 回归目标

目标: 两条线路的可视化

基本数据: 忽略用户层次信息, 只看统计结果

每天每小时两条线路的用户数量. 即下述表格:

- row: date time
- column: line 10/15
- data: count of people

未必一定要用 pandas. 处理完初步数据之后, 行数并不太多, excel等作图也可以考虑...

另外关于时间序列, 也可先用 python 处理成两列暂时统计着, 不必一直死磕. 有更多经验之后会处理得更好.